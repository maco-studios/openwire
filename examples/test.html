<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenWire Test</title>
</head>

<body>
    <div data-openwire-component data-openwire-id="counter-1" data-openwire-name="counter"
        data-openwire-initial-data='{"count": 0}'>
        <h2>Counter: <span id="count">0</span></h2>
        <button data-openwire-click="increment" data-openwire-params="[1]">Increment</button>
        <button data-openwire-click="decrement" data-openwire-params="[1]">Decrement</button>
    </div>

    <script src="../js/openwire/dist/openwire.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Document loaded, OpenWire available:', !!window.OpenWire);
            // Check if OpenWire is initialized
            if (window.OpenWire && window.OpenWire.initialized) {
                console.log('OpenWire already initialized');
            } else if (window.OpenWire) {
                console.log('Manually initializing OpenWire');
                window.OpenWire.init();
            } else {
                console.error('OpenWire not loaded properly');
            }
        });
    </script>
</body>

</html>
